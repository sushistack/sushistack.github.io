I"w<p>웹서버 설정 없이 설치만하면 할 수 있는 것이 너무나도 제한적일 것입니다. static한 문서만 읽을 수 있고,
도메인도 설정이 되어 있지 않아서 서버 IP로만 접근할 수 있을 것입니다. 또한 모든 설정들이 defualt 값으로
되어 있기 때문에 동작하지 않거나 제한적으로 동작하는 것들이 있을 것입니다.</p>

<h2 id="nginx-설정">Nginx 설정</h2>

<p>이 글에서는 간단하게 nginx 설정하는 방법과 설정하는 값들이 어떤 의미를 가지고 있는지 알아보는 시간을
갖도록 하겠습니다.</p>

<h3 id="설정파일-위치">설정파일 위치</h3>

<ul>
  <li>macOS</li>
</ul>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/usr/local/etc/nginx
</code></pre></div></div>

<ul>
  <li>centOS 또는 ubuntu</li>
</ul>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/etc/nginx
</code></pre></div></div>

<h3 id="설정-파일">설정 파일</h3>

<p>설정파일 위치로 이동하면 다음과 같이 다양한 파일들이 있습니다. 실제로 설정파일인 파일들과 <code class="language-plaintext highlighter-rouge">~.default</code>로 끝나는
백업용 파일들이 있습니다.</p>

<blockquote>
  <p>Configuration files</p>
</blockquote>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>fastcgi.conf
fastcgi_params
koi-utf
koi-win
mime.types                # mime 타입 설정 파일
nginx.conf                # 웹서버 설정 파일
scgi_params
uwsgi_params
win-utf
</code></pre></div></div>

<blockquote>
  <p>Default files for backup</p>
</blockquote>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>fastcgi.conf.default
fastcgi_params.default
mime.types.default
nginx.conf.default
scgi_params.default
uwsgi_params.default
</code></pre></div></div>

<h3 id="nginxconf">nginx.conf</h3>

<p><code class="language-plaintext highlighter-rouge">nginx.conf</code> 파일의 내용을 토대로 각 값들의 의미와 어떤 기능을 하는지 하나씩 알아보도록 하겠습니다.</p>

<h4 id="독립형-설정"><strong>독립형 설정</strong></h4>

<h5 id="1-user">1. user</h5>

<div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">user</span> <span class="s">[user]</span> <span class="s">[group]</span><span class="p">;</span>
<span class="k">user</span> <span class="s">www</span> <span class="s">www</span><span class="p">;</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">worker process</code>에서 사용하는 사용자 및 그룹 자격 증명을 정의합니다. group을 생략하면 이름이 user와 같은 그룹이 사용됩니다.</p>

<h5 id="2-worker_processes">2. worker_processes</h5>

<div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">worker_processes</span> <span class="s">Number</span> <span class="s">|</span> <span class="s">auto</span><span class="p">;</span>
<span class="k">worker_processes</span> <span class="mi">1</span><span class="p">;</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">worker process</code>의 수를 정의합니다.</p>

<p>최적의 값은 CPU 코어 수, 데이터를 저장하는 하드 디스크 드라이브 수 및 로드 패턴을 포함하여 많은 요인에 따라 다릅니다. 확실하지 않은 경우, 사용 가능한 CPU 코어 수로 설정하는 것이 좋습니다. (<code class="language-plaintext highlighter-rouge">auto</code>로 설정하는 경우, nginx에서 자동으로 감지를 시도합니다)</p>

<h5 id="3-error_log">3. error_log</h5>

<div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">error_log</span> <span class="s">file</span> <span class="s">[level]</span><span class="p">;</span>
<span class="k">error_log</span> <span class="nc">logs/error</span><span class="s">.log</span> <span class="s">info</span><span class="p">;</span>

<span class="c1"># levels: debug, info, notice, warn, error, crit, alert, emerg</span>
</code></pre></div></div>

<p>웹서버 실행 중 발생하는 에러에 대한 로깅을 설정합니다.</p>

<p>첫 번째 인자로는 파일의 위치, 두 번째 인자로는 로깅 레벨을 설정합니다. 만약 <code class="language-plaintext highlighter-rouge">error_log</code> 설정을 하지 않는다면,
기본 파일에 로그가 저장됩니다. 또한 두 번째 인자를 생략하면 level은 <code class="language-plaintext highlighter-rouge">error</code>로 설정됩니다.</p>

<h5 id="4-pid">4. pid</h5>

<div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">pid</span> <span class="s">file</span><span class="p">;</span>
<span class="k">pid</span> <span class="nc">logs/nginx</span><span class="s">.pid</span><span class="p">;</span>
</code></pre></div></div>

<p>nginx의 process ID를 저장할 파일을 설정합니다.</p>

<h5 id="5-worker_rlimit_nofile">5. worker_rlimit_nofile</h5>

<p><code class="language-plaintext highlighter-rouge">worker process</code>에 대한 최대 열린 파일 수(RLIMIT_NOFILE)에 대한 제한을 변경합니다.
기본 프로세스를 다시 시작하지 않고 한계를 늘리는 데 사용됩니다.</p>

<hr />

<h4 id="events-설정"><strong>events 설정</strong></h4>

<p>일반적으로 worker process의 연결 수, 연결 방법에 대한 것을 설정할 때 events 영역 내부에 설정합니다.</p>

<h5 id="1-worker_connections">1. worker_connections</h5>

<div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">events</span> <span class="p">{</span>
  <span class="kn">worker_connections</span>  <span class="s">number</span><span class="p">;</span>
  <span class="c1"># worker_connections 1024;</span>
<span class="p">}</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">worker process</code>에서 열 수 있는 최대 동시 연결 수를 설정합니다.</p>

<p>이 숫자에는 클라이언트와의 연결뿐만 아니라 모든 연결(ex. 프록시 서버와의 연결)이 포함됩니다. 또 다른 고려 사항은 실제 동시 연결 수가 최대 <code class="language-plaintext highlighter-rouge">open files</code> 개수에 대한 현재 한계를 초과 할 수 없습니다.</p>

<h5 id="2-use">2. use</h5>

<div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">events</span> <span class="p">{</span>
  <span class="kn">use</span> <span class="s">[method]</span><span class="p">;</span>
  <span class="c1"># use kqueue;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>사용할 connection 처리 방법을 지정합니다. nginx는 기본적으로 가장 효율적인 방법을 사용하므로 명시 적으로 지정할 필요가 없습니다.</p>

<h4 id="http-설정"><strong>http 설정</strong></h4>

<p>Http 어플리케이션 layer와 3, 4 layer 사이에 관련한 설정을 하는 영역입니다.</p>

<h5 id="1-include">1. include</h5>

<div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">http</span> <span class="p">{</span>
  <span class="kn">include</span> <span class="s">mime.types</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>설정파일 외부에 있는 다른 설정파일을 포함시킬 때 사용합니다.</p>

<h5 id="2-default_type">2. default_type</h5>

<div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">http</span> <span class="p">{</span>
  <span class="kn">default_type</span> <span class="nc">application/octet-stream</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>이 웹서버의 기본 <code class="language-plaintext highlighter-rouge">Content-Type</code>을 설정합니다. <code class="language-plaintext highlighter-rouge">octet-stream</code>은 바이너리 형태의 타입을 의미합니다.
일반적으로 nginx에서 해석할 수 없는 타입이라면 요청을 기본 타입으로 요청을 받도록 설정됩니다.</p>

<h5 id="3-log_format">3. log_format</h5>

<div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">http</span> <span class="p">{</span>
  <span class="kn">log_format</span>  <span class="s">main</span>  <span class="s">'</span><span class="nv">$remote_addr</span> <span class="s">-</span> <span class="nv">$remote_user</span> <span class="s">[</span><span class="nv">$time_local</span><span class="s">]</span> <span class="s">"</span><span class="nv">$request</span><span class="s">"</span> <span class="s">'</span>
    <span class="s">'</span><span class="nv">$status</span> <span class="nv">$body_bytes_sent</span> <span class="s">"</span><span class="nv">$http_referer</span><span class="s">"</span> <span class="s">'</span>
    <span class="s">'"</span><span class="nv">$http_user_agent</span><span class="s">"</span> <span class="s">"</span><span class="nv">$http_x_forwarded_for</span><span class="s">"'</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>로그 포맷을 설정합니다.</p>

<p>변수와 관련한 내용은 다음 링크에서 확인 가능합니다.</p>

<div class="related-link-wrap">
    <a class="related-link" href="http://nginx.org/en/docs/varindex.html" target="_blank" rel="nofollow noopener noreferrer">
      <div class="related-link-icon">
        
        <svg preserveAspectRatio="xMidYMid meet" height="1em" width="1em" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" class="icon-7f6730be--text-3f89f380"><g><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></g></svg>
        
      </div>
      <div class="link-title-wrap">
        <div class="link-title">
          <div class="link-title-text">Alphabetical index of variables</div>
        </div>
      </div>
      <div class="display-link-wrap">
        <div class="display-link">
          <span class="display-link-text">nginx.org</span>
        </div>
      </div>
    </a>
</div>

<h5 id="4-access_log">4. access_log</h5>

<div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">http</span> <span class="p">{</span>
  <span class="kn">access_log</span> <span class="nc">logs/access</span><span class="s">.log</span> <span class="s">[context]</span><span class="p">;</span>
  <span class="c1"># access_log logs/access.log main;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>액세스 로그를 저장할 파일을 설정합니다.</p>

<h5 id="5-sendfile">5. sendfile</h5>

<div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">http</span> <span class="p">{</span>
  <span class="kn">sendfile</span> <span class="no">on</span> <span class="s">|</span> <span class="no">off</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>nginx에서 정적파일을 보내도록 설정합니다.</p>

<h4 id="6-tcp_nopush">6. tcp_nopush</h4>

<div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">http</span> <span class="p">{</span>
  <span class="kn">tcp_nopush</span> <span class="no">on</span> <span class="s">|</span> <span class="no">off</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>클라이언트로 패킷이 전송되기 전에 버퍼가 가득 찼는지 확인하여, 다 찼으면 패킷을 전송하도록 하여
네트워크 오버헤드를 줄이도록 설정합니다.</p>

<h4 id="7-tcp_nodelay">7. tcp_nodelay</h4>

<div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">http</span> <span class="p">{</span>
  <span class="kn">tcp_nodelay</span> <span class="no">on</span> <span class="s">|</span> <span class="no">off</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">tcp_nodelay</code>를 활성화하면 소켓이 패킷 크기에 상관없이 버퍼에 데이터를 보내도록합니다.</p>

<p><code class="language-plaintext highlighter-rouge">sendfile</code>, <code class="language-plaintext highlighter-rouge">tcp_nopush</code>, <code class="language-plaintext highlighter-rouge">tcp_nodelay</code>에 대해서 자세히 알고 싶다면 아래 링크를 참고하세요.
해당 글 내용에 의하면 세 가지 설정 모두 사용하는 것을 권장하는 것 같습니다.</p>

<div class="related-link-wrap">
    <a class="related-link" href="https://thoughts.t37.net/nginx-optimization-understanding-sendfile-tcp-nodelay-and-tcp-nopush-c55cdd276765" target="_blank" rel="nofollow noopener noreferrer">
      <div class="related-link-icon">
        
        <svg preserveAspectRatio="xMidYMid meet" height="1em" width="1em" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" class="icon-7f6730be--text-3f89f380"><g><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></g></svg>
        
      </div>
      <div class="link-title-wrap">
        <div class="link-title">
          <div class="link-title-text">Nginx Optimization: understanding sendfile, tcp_nodelay and tcp_nopush</div>
        </div>
      </div>
      <div class="display-link-wrap">
        <div class="display-link">
          <span class="display-link-text">thoughts.t37.net</span>
        </div>
      </div>
    </a>
</div>

<h5 id="8-keepalive_requests">8. keepalive_requests</h5>

<div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">http</span> <span class="p">{</span>
  <span class="kn">keepalive_requests</span> <span class="s">number</span><span class="p">;</span>
  <span class="c1"># keepalive_requests 100;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>웹서버가 캐싱할 수 있는 커넥션 수를 설정합니다. 너무 많은 수를 사용하면 자원 점유에 문제가 생기니 적절하게 설정하는 것이 좋습니다.</p>

<h5 id="9-keepalive_timeout">9. keepalive_timeout</h5>

<div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">http</span> <span class="p">{</span>
  <span class="kn">keepalive_timeout</span> <span class="s">[seconds]</span><span class="p">;</span>
  <span class="c1"># keepalive_timeout 65;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>클라이언트에서 해당 서버로 <code class="language-plaintext highlighter-rouge">keepalive</code> 커넥션을 유지할 수 있는 시간을 설정합니다. 너무 길면 요청이 없는 클라이언트와의 
커넥션을 연결하고 있기 때문에 자원의 낭비가 발생한다.</p>

<h5 id="10-server_names_hash_bucket_size">10. server_names_hash_bucket_size</h5>

<div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">http</span> <span class="p">{</span>
  <span class="kn">server_names_hash_bucket_size</span> <span class="s">number</span><span class="p">;</span>
  <span class="c1"># server_names_hash_bucket_size 512;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>호스트 네임의 해시 버킷 사이즈를 설정합니다.</p>

<p>자세한 설명은 아래 링크를 통해서 확인하실 수 있습니다.</p>

<div class="related-link-wrap">
    <a class="related-link" href="/server/web/nginx-server-names-hash" target="_self" rel="noopener noreferrer">
      <div class="related-link-icon">
         <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Calque_1" width="32" height="32" viewBox="0 0 70 70" style="overflow:visible" xml:space="preserve"><g><g transform="translate(-186.000000, -128.000000)"><path id="GitBook_logo_blue" style="fill:#8a4baf;" d="M217.505,179.83c1.129,0,2.048,0.919,2.048,2.047    c0,1.129-0.919,2.047-2.048,2.047c-1.129,0-2.047-0.919-2.047-2.047C215.457,180.749,216.376,179.83,217.505,179.83     M249.659,167.149c-1.129,0-2.048-0.919-2.048-2.047c0-1.129,0.919-2.048,2.048-2.048c1.129,0,2.047,0.919,2.047,2.048    C251.707,166.23,250.788,167.149,249.659,167.149 M249.659,158.761c-3.496,0-6.341,2.844-6.341,6.341    c0,0.681,0.113,1.359,0.336,2.018l-20.946,11.15c-1.19-1.715-3.119-2.731-5.205-2.731c-2.417,0-4.62,1.383-5.686,3.544    l-18.818-9.921c-1.988-1.045-3.476-4.32-3.318-7.3c0.082-1.555,0.619-2.761,1.437-3.227c0.519-0.295,1.144-0.269,1.807,0.078    l0.126,0.066c4.985,2.627,21.304,11.222,21.991,11.541c1.06,0.49,1.65,0.689,3.456-0.167l33.732-17.543    c0.494-0.187,1.071-0.66,1.071-1.38c0-0.998-1.032-1.391-1.035-1.391c-1.918-0.92-4.867-2.301-7.744-3.647    c-6.148-2.879-13.116-6.141-16.176-7.744c-2.642-1.383-4.768-0.217-5.148,0.019l-0.737,0.365    c-13.772,6.811-32.203,15.939-33.253,16.577c-1.879,1.143-3.043,3.421-3.193,6.249c-0.235,4.483,2.052,9.156,5.321,10.871    l19.898,10.262c0.448,3.105,3.121,5.429,6.27,5.429c3.464,0,6.288-2.792,6.34-6.244l21.915-11.877    c1.111,0.868,2.489,1.345,3.9,1.345c3.496,0,6.341-2.845,6.341-6.341S253.155,158.761,249.659,158.761" /></g></g></svg>
        
      </div>
      <div class="link-title-wrap">
        <div class="link-title">
          <div class="link-title-text">Nginx server_names_hash 설정</div>
        </div>
      </div>
      <div class="display-link-wrap">
        <div class="display-link">
          <span class="display-link-text">deeplify.dev</span>
        </div>
      </div>
    </a>
</div>

<h5 id="11-gzip">11. gzip</h5>

<div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">http</span> <span class="p">{</span>
  <span class="kn">gzip</span> <span class="no">on</span> <span class="s">|</span> <span class="no">off</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>웹서버에서 문서 요청에 대한 응답을 gzip 압축 전송에 대한 설정을 합니다.</p>

<hr />

<h4 id="http--server">http &gt; server</h4>

<p>이 영역은 인증서, url 컨트롤, proxy 등 어플리케이션 layer 관련한 설정을 합니다.</p>

<h5 id="1-listen">1. listen</h5>

<div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">http</span> <span class="p">{</span>
  <span class="kn">server</span> <span class="p">{</span>
    <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>서버의 리스너 포트를 설정합니다.</p>

<h5 id="2-server_name">2. server_name</h5>

<div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">http</span> <span class="p">{</span>
  <span class="kn">server</span> <span class="p">{</span>
    <span class="kn">server_name</span> <span class="s">[host_name]</span><span class="p">;</span>
    <span class="c1"># server_name  www.example.com</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>서버 이름을 설정합니다. (도메인 등록)</p>

<h5 id="3-location">3. location</h5>

<div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">http</span> <span class="p">{</span>
  <span class="kn">server</span> <span class="p">{</span>
    <span class="kn">location</span> <span class="s">[path]</span> <span class="p">{</span>
      <span class="kn">root</span> <span class="s">[root</span> <span class="s">directory</span> <span class="s">path]</span>
      <span class="s">index</span> <span class="s">[index</span> <span class="s">page]</span>
    <span class="err">}</span>
    <span class="c1"># location / {</span>
    <span class="c1">#   root /usr/share/nginx/www/</span>
    <span class="c1">#   index index.html</span>
    <span class="c1">#}</span>
  <span class="err">}</span>
<span class="err">}</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">path</code>로 들어오는 요청에 대한 설정을 합니다.
root는 linux file system에서의 디렉토리 경로를 index는 해당 위치의 index 문서를 설정합니다.</p>

<h5 id="4-error_page">4. error_page</h5>

<div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">http</span> <span class="p">{</span>
  <span class="kn">server</span> <span class="p">{</span>
    <span class="kn">error_page</span> <span class="s">number</span> <span class="s">[page.html]</span>
    <span class="c1"># error_page 404 /404.html;</span>
    <span class="c1"># error_page 500 502 503 504 /50x.html;</span>
  <span class="err">}</span>
<span class="err">}</span>
</code></pre></div></div>

<p>에러페이지를 설정합니다.</p>

<hr />

<p>추가적으로 특정 설정에 관련된 것들은 다음과 같이 따로 정리해 놓았습니다.</p>

<div class="related-link-wrap">
    <a class="related-link" href="/server/web/nginx-ssl" target="_self" rel="noopener noreferrer">
      <div class="related-link-icon">
         <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Calque_1" width="32" height="32" viewBox="0 0 70 70" style="overflow:visible" xml:space="preserve"><g><g transform="translate(-186.000000, -128.000000)"><path id="GitBook_logo_blue" style="fill:#8a4baf;" d="M217.505,179.83c1.129,0,2.048,0.919,2.048,2.047    c0,1.129-0.919,2.047-2.048,2.047c-1.129,0-2.047-0.919-2.047-2.047C215.457,180.749,216.376,179.83,217.505,179.83     M249.659,167.149c-1.129,0-2.048-0.919-2.048-2.047c0-1.129,0.919-2.048,2.048-2.048c1.129,0,2.047,0.919,2.047,2.048    C251.707,166.23,250.788,167.149,249.659,167.149 M249.659,158.761c-3.496,0-6.341,2.844-6.341,6.341    c0,0.681,0.113,1.359,0.336,2.018l-20.946,11.15c-1.19-1.715-3.119-2.731-5.205-2.731c-2.417,0-4.62,1.383-5.686,3.544    l-18.818-9.921c-1.988-1.045-3.476-4.32-3.318-7.3c0.082-1.555,0.619-2.761,1.437-3.227c0.519-0.295,1.144-0.269,1.807,0.078    l0.126,0.066c4.985,2.627,21.304,11.222,21.991,11.541c1.06,0.49,1.65,0.689,3.456-0.167l33.732-17.543    c0.494-0.187,1.071-0.66,1.071-1.38c0-0.998-1.032-1.391-1.035-1.391c-1.918-0.92-4.867-2.301-7.744-3.647    c-6.148-2.879-13.116-6.141-16.176-7.744c-2.642-1.383-4.768-0.217-5.148,0.019l-0.737,0.365    c-13.772,6.811-32.203,15.939-33.253,16.577c-1.879,1.143-3.043,3.421-3.193,6.249c-0.235,4.483,2.052,9.156,5.321,10.871    l19.898,10.262c0.448,3.105,3.121,5.429,6.27,5.429c3.464,0,6.288-2.792,6.34-6.244l21.915-11.877    c1.111,0.868,2.489,1.345,3.9,1.345c3.496,0,6.341-2.845,6.341-6.341S253.155,158.761,249.659,158.761" /></g></g></svg>
        
      </div>
      <div class="link-title-wrap">
        <div class="link-title">
          <div class="link-title-text">Nginx SSL 설정</div>
        </div>
      </div>
      <div class="display-link-wrap">
        <div class="display-link">
          <span class="display-link-text">deeplify.dev</span>
        </div>
      </div>
    </a>
</div>

<div class="related-link-wrap">
    <a class="related-link" href="/server/web/nginx-proxy-pass" target="_self" rel="noopener noreferrer">
      <div class="related-link-icon">
         <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Calque_1" width="32" height="32" viewBox="0 0 70 70" style="overflow:visible" xml:space="preserve"><g><g transform="translate(-186.000000, -128.000000)"><path id="GitBook_logo_blue" style="fill:#8a4baf;" d="M217.505,179.83c1.129,0,2.048,0.919,2.048,2.047    c0,1.129-0.919,2.047-2.048,2.047c-1.129,0-2.047-0.919-2.047-2.047C215.457,180.749,216.376,179.83,217.505,179.83     M249.659,167.149c-1.129,0-2.048-0.919-2.048-2.047c0-1.129,0.919-2.048,2.048-2.048c1.129,0,2.047,0.919,2.047,2.048    C251.707,166.23,250.788,167.149,249.659,167.149 M249.659,158.761c-3.496,0-6.341,2.844-6.341,6.341    c0,0.681,0.113,1.359,0.336,2.018l-20.946,11.15c-1.19-1.715-3.119-2.731-5.205-2.731c-2.417,0-4.62,1.383-5.686,3.544    l-18.818-9.921c-1.988-1.045-3.476-4.32-3.318-7.3c0.082-1.555,0.619-2.761,1.437-3.227c0.519-0.295,1.144-0.269,1.807,0.078    l0.126,0.066c4.985,2.627,21.304,11.222,21.991,11.541c1.06,0.49,1.65,0.689,3.456-0.167l33.732-17.543    c0.494-0.187,1.071-0.66,1.071-1.38c0-0.998-1.032-1.391-1.035-1.391c-1.918-0.92-4.867-2.301-7.744-3.647    c-6.148-2.879-13.116-6.141-16.176-7.744c-2.642-1.383-4.768-0.217-5.148,0.019l-0.737,0.365    c-13.772,6.811-32.203,15.939-33.253,16.577c-1.879,1.143-3.043,3.421-3.193,6.249c-0.235,4.483,2.052,9.156,5.321,10.871    l19.898,10.262c0.448,3.105,3.121,5.429,6.27,5.429c3.464,0,6.288-2.792,6.34-6.244l21.915-11.877    c1.111,0.868,2.489,1.345,3.9,1.345c3.496,0,6.341-2.845,6.341-6.341S253.155,158.761,249.659,158.761" /></g></g></svg>
        
      </div>
      <div class="link-title-wrap">
        <div class="link-title">
          <div class="link-title-text">Nginx proxy pass 설정</div>
        </div>
      </div>
      <div class="display-link-wrap">
        <div class="display-link">
          <span class="display-link-text">deeplify.dev</span>
        </div>
      </div>
    </a>
</div>

<div class="related-link-wrap">
    <a class="related-link" href="/server/web/nginx-load-banlancing" target="_self" rel="noopener noreferrer">
      <div class="related-link-icon">
         <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Calque_1" width="32" height="32" viewBox="0 0 70 70" style="overflow:visible" xml:space="preserve"><g><g transform="translate(-186.000000, -128.000000)"><path id="GitBook_logo_blue" style="fill:#8a4baf;" d="M217.505,179.83c1.129,0,2.048,0.919,2.048,2.047    c0,1.129-0.919,2.047-2.048,2.047c-1.129,0-2.047-0.919-2.047-2.047C215.457,180.749,216.376,179.83,217.505,179.83     M249.659,167.149c-1.129,0-2.048-0.919-2.048-2.047c0-1.129,0.919-2.048,2.048-2.048c1.129,0,2.047,0.919,2.047,2.048    C251.707,166.23,250.788,167.149,249.659,167.149 M249.659,158.761c-3.496,0-6.341,2.844-6.341,6.341    c0,0.681,0.113,1.359,0.336,2.018l-20.946,11.15c-1.19-1.715-3.119-2.731-5.205-2.731c-2.417,0-4.62,1.383-5.686,3.544    l-18.818-9.921c-1.988-1.045-3.476-4.32-3.318-7.3c0.082-1.555,0.619-2.761,1.437-3.227c0.519-0.295,1.144-0.269,1.807,0.078    l0.126,0.066c4.985,2.627,21.304,11.222,21.991,11.541c1.06,0.49,1.65,0.689,3.456-0.167l33.732-17.543    c0.494-0.187,1.071-0.66,1.071-1.38c0-0.998-1.032-1.391-1.035-1.391c-1.918-0.92-4.867-2.301-7.744-3.647    c-6.148-2.879-13.116-6.141-16.176-7.744c-2.642-1.383-4.768-0.217-5.148,0.019l-0.737,0.365    c-13.772,6.811-32.203,15.939-33.253,16.577c-1.879,1.143-3.043,3.421-3.193,6.249c-0.235,4.483,2.052,9.156,5.321,10.871    l19.898,10.262c0.448,3.105,3.121,5.429,6.27,5.429c3.464,0,6.288-2.792,6.34-6.244l21.915-11.877    c1.111,0.868,2.489,1.345,3.9,1.345c3.496,0,6.341-2.845,6.341-6.341S253.155,158.761,249.659,158.761" /></g></g></svg>
        
      </div>
      <div class="link-title-wrap">
        <div class="link-title">
          <div class="link-title-text">Nginx 로드밸런싱 설정</div>
        </div>
      </div>
      <div class="display-link-wrap">
        <div class="display-link">
          <span class="display-link-text">deeplify.dev</span>
        </div>
      </div>
    </a>
</div>

<h2 id="맺음">맺음</h2>

<p>이렇게 nginx 설정에 대한 기본적인 설정 값에 대해서 정리해 보았습니다.
잘 못된 점이나 궁금한 점이 있으시면 댓글 부탁드리겠습니다.</p>

<p>감사합니다.</p>

<h3 id="ref">Ref</h3>

<div class="related-link-wrap">
    <a class="related-link" href="http://nginx.org/en/docs/ngx_core_module.html" target="_blank" rel="nofollow noopener noreferrer">
      <div class="related-link-icon">
         <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Calque_1" width="32" height="32" viewBox="0 0 70 70" style="overflow:visible" xml:space="preserve"><g><g transform="translate(-186.000000, -128.000000)"><path id="GitBook_logo_blue" style="fill:#8a4baf;" d="M217.505,179.83c1.129,0,2.048,0.919,2.048,2.047    c0,1.129-0.919,2.047-2.048,2.047c-1.129,0-2.047-0.919-2.047-2.047C215.457,180.749,216.376,179.83,217.505,179.83     M249.659,167.149c-1.129,0-2.048-0.919-2.048-2.047c0-1.129,0.919-2.048,2.048-2.048c1.129,0,2.047,0.919,2.047,2.048    C251.707,166.23,250.788,167.149,249.659,167.149 M249.659,158.761c-3.496,0-6.341,2.844-6.341,6.341    c0,0.681,0.113,1.359,0.336,2.018l-20.946,11.15c-1.19-1.715-3.119-2.731-5.205-2.731c-2.417,0-4.62,1.383-5.686,3.544    l-18.818-9.921c-1.988-1.045-3.476-4.32-3.318-7.3c0.082-1.555,0.619-2.761,1.437-3.227c0.519-0.295,1.144-0.269,1.807,0.078    l0.126,0.066c4.985,2.627,21.304,11.222,21.991,11.541c1.06,0.49,1.65,0.689,3.456-0.167l33.732-17.543    c0.494-0.187,1.071-0.66,1.071-1.38c0-0.998-1.032-1.391-1.035-1.391c-1.918-0.92-4.867-2.301-7.744-3.647    c-6.148-2.879-13.116-6.141-16.176-7.744c-2.642-1.383-4.768-0.217-5.148,0.019l-0.737,0.365    c-13.772,6.811-32.203,15.939-33.253,16.577c-1.879,1.143-3.043,3.421-3.193,6.249c-0.235,4.483,2.052,9.156,5.321,10.871    l19.898,10.262c0.448,3.105,3.121,5.429,6.27,5.429c3.464,0,6.288-2.792,6.34-6.244l21.915-11.877    c1.111,0.868,2.489,1.345,3.9,1.345c3.496,0,6.341-2.845,6.341-6.341S253.155,158.761,249.659,158.761" /></g></g></svg>
        
      </div>
      <div class="link-title-wrap">
        <div class="link-title">
          <div class="link-title-text">Core functionality</div>
        </div>
      </div>
      <div class="display-link-wrap">
        <div class="display-link">
          <span class="display-link-text">deeplify.dev</span>
        </div>
      </div>
    </a>
</div>
:ET