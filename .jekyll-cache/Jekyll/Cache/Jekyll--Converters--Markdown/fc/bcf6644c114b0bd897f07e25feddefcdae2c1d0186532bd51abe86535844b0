I"Q4<p>css의 <code class="language-plaintext highlighter-rouge">position</code>에는 다양한 종류의 다양한 속성이 있습니다. 이 글에서는 static 속성과 fixed 속성의 특징을 동시에 갖고 있는 <strong>position sticky</strong>속성의 특성에 대해서 알아보겠습니다.</p>

<p>또 sticky 속성이 동작하지 않을 때 확인해야할 것들에 대해서 정리해드리겠습니다.</p>

<h2 id="postion-sticky">Postion sticky</h2>

<p>sitcky 속성은 필수적으로 <code class="language-plaintext highlighter-rouge">top</code>, <code class="language-plaintext highlighter-rouge">bottom</code>, <code class="language-plaintext highlighter-rouge">left</code>, <code class="language-plaintext highlighter-rouge">right</code>들 중에 하나를 필수적으로 설정해주어야 합니다. sitcky로 설정된 영역은 설정된 위치(예 top: 0px)에 도달하기 전까지는 static 속성처럼 행동하다가 <code class="language-plaintext highlighter-rouge">설정된 위치</code>에 다다르면 fixed 속성처럼 행동하는 속성입니다.</p>

<p>먼저 예제를 통해서 <strong>static</strong>, <strong>fixed</strong> 그리고 <strong>sticky</strong> 속성을 각각 적용했을 때 어떻게 동작하는지 알아보도록 하겠습니다.</p>

<h3 id="예제">예제</h3>

<div class="jsfiddle-container " data-src="//jsfiddle.net/deeplify/7uj83ayn/89/embed/result,html,css/dark/">
  <div class="tbl-loading-spinner tbl-loading-cards-placeholder">
    <div class="tbl-placeholder-card"></div>
  </div>
</div>

<p>위의 예제를 통해서 position에 각 속성마다 각각 어떻게 동작하는지 살펴보았습니다. 이제 각 속성마다 css 코드를 보면서 어떻게 설정이 되어 있고, 어떻게 렌더링되어 적용되는지 알아보겠습니다.</p>

<h4 id="static-속성">static 속성</h4>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">.static</span> <span class="p">{</span>
  <span class="nl">position</span><span class="p">:</span> <span class="nb">static</span><span class="p">;</span>
  <span class="nl">background</span><span class="p">:</span> <span class="no">orange</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>먼저 <strong>static</strong> 속성은 대부분의 html 태그들의 기본 속성입니다. 의미 그대로 정적인 위치를 갖도록 합니다.</p>

<p>위 예제에서 <code class="language-plaintext highlighter-rouge">div.sidebar</code>안의 최상단에 자리를 차지하며 위치하는 것을 확인할 수 있습니다.</p>

<h4 id="fixed-속성">fixed 속성</h4>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">.fixed</span> <span class="p">{</span>
  <span class="nl">position</span><span class="p">:</span> <span class="nb">fixed</span><span class="p">;</span>
  <span class="nl">top</span><span class="p">:</span> <span class="m">99px</span><span class="p">;</span>
  <span class="nl">left</span><span class="p">:</span> <span class="m">155px</span><span class="p">;</span>
  <span class="nl">background</span><span class="p">:</span> <span class="no">pink</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p><strong>fixed</strong> 속성을 갖는 영역은 뷰포트의 특정 좌표에 고정되어 표현됩니다.</p>

<p>위 예제에서는 <code class="language-plaintext highlighter-rouge">top: 99px</code>, <code class="language-plaintext highlighter-rouge">left: 155px</code>으로 설정하여 브라우저 또는 디바이스의 최상단으로부터 <code class="language-plaintext highlighter-rouge">(x=155px, y=99px)</code>으로 고정된 위치에 보여지게 됩니다. 만약 position 속성을 fixed로 설정하고, 위치를 설정하지 않으면 <code class="language-plaintext highlighter-rouge">(x=0, y=0)</code>으로 설정한 것처럼 보여지게 됩니다.</p>

<p><ins class="adsbygoogle" style="display:block" data-ad-format="fluid" data-ad-layout-key="-fb+5w+4e-db+86" data-ad-client="ca-pub-7759351195774465" data-ad-slot="8018175067">
</ins>
<script> (adsbygoogle = window.adsbygoogle || []).push({}); </script></p>

<h4 id="sticky-속성">sticky 속성</h4>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">.sticky</span> <span class="p">{</span>
  <span class="nl">position</span><span class="p">:</span> <span class="n">sticky</span><span class="p">;</span>
  <span class="nl">top</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
  <span class="nl">background</span><span class="p">:</span> <span class="m">#8a4baf</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>sticky 속성은 static과 fixed 속성의 특징을 모두 가지고 있는 속성입니다. sticky 영역의 x 또는 y 위치값이 설정한 위치에 도달하기 전까지는 static, 도달 이후에는 fixed처럼 행동하게 됩니다.</p>

<p>예제에서는 <code class="language-plaintext highlighter-rouge">div.sticky</code> 영역의 위치를 <code class="language-plaintext highlighter-rouge">top: 0;</code>으로 설정했습니다.</p>

<p>뷰포트의 관점에서 최초에 페이지가 랜더링 되었을 때,</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">div.sidebar</code> 영역은 <code class="language-plaintext highlighter-rouge">div.nav</code> 아래에 있는 <code class="language-plaintext highlighter-rouge">div.container</code>안에 있기 때문에 <code class="language-plaintext highlighter-rouge">div.sidebar</code>의 y좌표는 0보다 큼.</li>
  <li><code class="language-plaintext highlighter-rouge">div.sticky</code> 영역은 <code class="language-plaintext highlighter-rouge">div.sidebar</code> 내부의 상단에 위치하기 때문에 <code class="language-plaintext highlighter-rouge">div.sticky</code>의 y좌표도 0보다 큼.</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">div.sticky</code> 영역이 아직 설정한 위치인 <code class="language-plaintext highlighter-rouge">top: 0;</code>에 도달하지 않았기 때문에 마치 static 속성으로 설정한 것처럼 보이게 됩니다.</p>

<p>이 상태에서 스크롤을 하단으로 내리면 <code class="language-plaintext highlighter-rouge">div.sticky</code> 영역이 뷰포트의 y 좌표 0에 도달하는 순간, 이 영역은 fixed 속성처럼 행동하게 됩니다.</p>

<h3 id="sticky-속성이-동작하지-않는다면">sticky 속성이 동작하지 않는다면?</h3>

<p>sitcky 속성은 굉장히 유용한 속성인 것임에는 틀림이 없습니다. 하지만 sticky 속성은 사용하기가 조금 까다롭습니다. sticky 속성이 동작하지 않을 때, 확인해봐야할 것을 정리해보도록 하겠습니다.</p>

<h4 id="도달-위치-설정이-되어-있는지-확인">도달 위치 설정이 되어 있는지 확인</h4>

<p>sticky 엘리먼트는 <code class="language-plaintext highlighter-rouge">top</code>, <code class="language-plaintext highlighter-rouge">bottom</code>, <code class="language-plaintext highlighter-rouge">left</code>, <code class="language-plaintext highlighter-rouge">right</code> 속성 중 하나는 반드시 필요합니다. 설정 된 위치에서 fixed 속성처럼 동작해야 하는데 기준 위치가 없기 때문에 동작하지 않는 경우 입니다.</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">.sticky</span> <span class="p">{</span>
  <span class="nl">position</span><span class="p">:</span> <span class="n">sticky</span><span class="p">;</span>
  <span class="nl">top</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="크로스-브라우징-및-브라우저-확인">크로스 브라우징 및 브라우저 확인</h4>

<p>크로스 브라우징은 다음 링크를 통해서 확인하실 수 있습니다.</p>

<div class="related-link-wrap">
    <a class="related-link" href="https://caniuse.com/css-sticky" target="_blank" rel="nofollow noopener noreferrer">
      <div class="related-link-icon">
        
        <svg preserveAspectRatio="xMidYMid meet" height="1em" width="1em" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" class="icon-7f6730be--text-3f89f380"><g><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></g></svg>
        
      </div>
      <div class="link-title-wrap">
        <div class="link-title">
          <div class="link-title-text">Can I use... Support tables for HTML5, CSS3, etc</div>
        </div>
      </div>
      <div class="display-link-wrap">
        <div class="display-link">
          <span class="display-link-text">caniuse.com</span>
        </div>
      </div>
    </a>
</div>

<p>내용을 보면 IE는 지원하지 않는다고 합니다. 하지만 sticky 속성은 IE에서 static과 동일하게 처리되기 때문에 이 속성을 쓰지 않을 이유는 없을 것 같습니다.</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">.sticky</span> <span class="p">{</span>
  <span class="nl">position</span><span class="p">:</span> <span class="n">-webkit-sticky</span><span class="p">;</span>
  <span class="nl">position</span><span class="p">:</span> <span class="n">sticky</span><span class="p">;</span>
  <span class="nl">top</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>만약에 Safari에서도 동작하게 하려면, 위와 같이 <code class="language-plaintext highlighter-rouge">-webkit-sticky</code> 속성을 추가해주시면 됩니다.</p>

<h4 id="부모-또는-조상-노드에-overflow-속성이-설정되어-있는지-확인">부모 또는 조상 노드에 overflow 속성이 설정되어 있는지 확인</h4>

<p>sticky 속성의 경우, 부모 또는 조상 노드에 overflow 설정이 아래와 같이 설정되어 있으면 동작하지 않습니다.</p>

<blockquote>
  <ul>
    <li>overflow: hidden</li>
    <li>overflow: scroll</li>
    <li>overflow: auto</li>
  </ul>
</blockquote>

<p>브라우저의 develop tool에서 아래 코드를 실행시켜, sticky 속성의 부모 또는 조상 노드에 overflow 설정이 되어 있는지 확인하실 수 있습니다.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//sticky element selector에 sticky 속성을 사용하고자하는 엘리먼트의 selector 설정</span>
<span class="kd">let</span> <span class="nx">parent</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">'</span><span class="s1">[sticky element selector]</span><span class="dl">'</span><span class="p">).</span><span class="nx">parentElement</span><span class="p">;</span>

<span class="k">while</span> <span class="p">(</span><span class="nx">parent</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">hasOverflow</span> <span class="o">=</span> <span class="nx">getComputedStyle</span><span class="p">(</span><span class="nx">parent</span><span class="p">).</span><span class="nx">overflow</span><span class="p">;</span>
  <span class="k">if</span><span class="p">(</span><span class="nx">hasOverflow</span> <span class="o">!==</span> <span class="dl">'</span><span class="s1">visible</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">hasOverflow</span><span class="p">,</span> <span class="nx">parent</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="nx">parent</span> <span class="o">=</span> <span class="nx">parent</span><span class="p">.</span><span class="nx">parentElement</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="부모-노드의-height가-설정되어-있는지-확인">부모 노드의 height가 설정되어 있는지 확인</h4>

<p>sticky 속성을 갖는 엘리먼트의 부모 노드는 반드시 height가 설정되어 있어야합니다. 그렇지 않으면 sticky 속성의 엘리먼트는 stiatc 속성처럼 동작하게 됩니다.</p>

<p><code class="language-plaintext highlighter-rouge">height: xx%;</code>같이 퍼센트로 설정한 경우에는 동작하지 않습니다.</p>

<blockquote>
  <p>올바른 예</p>
  <ul>
    <li>height: auto</li>
    <li>height: unset</li>
    <li>height: 100vh</li>
    <li>height: 1000px</li>
    <li>height: 5em</li>
  </ul>
</blockquote>

<h2 id="맺음">맺음</h2>

<p>간단하게 sticky 속성에 대해서 알아보았습니다, 혹시 궁금하신 점이나 이상한 점이 있으시면 댓글 부탁드리겠습니다.</p>

<p>감사합니다.</p>
:ET